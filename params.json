{"name":"Cachet-monitor","tagline":"Monitors a URL and posts data points to cachet","body":"Cachet Monitor plugin\r\n=====================\r\n\r\nThis is a monitoring plugin for CachetHQ.\r\n\r\nFeatures\r\n--------\r\n\r\n- [x] Creates & Resolves Incidents\r\n- [x] Posts monitor lag every second\r\n- [x] Updates Component to Partial Outage\r\n- [x] Updates Component to Major Outage if in Partial Outage\r\n- [x] Can be run on multiple servers and geo regions\r\n\r\nDocker Quickstart\r\n-----------------\r\n\r\n1. Create a configuration json\r\n2. \r\n```\r\ndocker run -d \\\r\n  --name cachet-monitor \\\r\n  -h cachet-monitor \\\r\n  -v `pwd`/config.json:/etc/cachet-monitor.config.json \\\r\n  castawaylabs/cachet-monitor\r\n```\r\n\r\nConfiguration\r\n-------------\r\n\r\n```\r\n{\r\n  \"api_url\": \"https://demo.cachethq.io/api\",\r\n  \"api_token\": \"9yMHsdioQosnyVK4iCVR\",\r\n  \"monitors\": [\r\n    {\r\n      \"name\": \"nodegear frontend\",\r\n      \"url\": \"https://nodegear.io/ping\",\r\n      \"metric_id\": 0,\r\n      \"component_id\": 0,\r\n      \"threshold\": 80,\r\n      \"component_id\": null,\r\n      \"expected_status_code\": 200,\r\n      \"strict_tls\": true\r\n    }\r\n  ],\r\n  \"insecure_api\": false\r\n}\r\n```\r\n\r\n*Notes:*\r\n\r\n- `metric_id` is optional\r\n- `insecure_api` if true it will ignore HTTPS certificate errors (eg if self-signed)\r\n- `strict_tls` if false (true is default) it will ignore HTTPS certificate errors (eg if monitor uses self-signed certificate)\r\n- `component_id` is optional\r\n- `threshold` is a percentage\r\n- `expected_status_code` is a http response code\r\n- GET request will be performed on the `url`\r\n\r\nHow to run\r\n----------\r\n\r\nExample:\r\n\r\n1. Set up [Go](https://golang.org)\r\n2. `go install github.com/castawaylabs/cachet-monitor`\r\n3. `cachet-monitor -c https://raw.githubusercontent.com/CastawayLabs/cachet-monitor/master/example.config.json`\r\n\r\nProduction:\r\n\r\n1. Download the example config and save to `/etc/cachet-monitor.config.json`\r\n2. Run in background: `nohup cachet-monitor 2>&1 > /var/log/cachet-monitor.log &`\r\n\r\n```\r\nUsage of cachet-monitor:\r\n  -c=\"/etc/cachet-monitor.config.json\": Config path\r\n  -log=\"\": Log path\r\n  -name=\"\": System Name\r\n```\r\n\r\nEnvironment variables\r\n---------------------\r\n\r\n| Name         | Example Value               | Description                 |\r\n| ------------ | --------------------------- | --------------------------- |\r\n| CACHET_API   | http://demo.cachethq.io/api | URL endpoint for cachet api |\r\n| CACHET_TOKEN | randomvalue                 | API Authentication token    |","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}